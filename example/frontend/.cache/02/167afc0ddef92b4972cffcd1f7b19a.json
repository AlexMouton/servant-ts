{"id":"../node_modules/elm-ts/lib/Platform.js","dependencies":[{"name":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Platform.js.map","includedInParent":true,"mtime":1544898207441},{"name":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/package.json","includedInParent":true,"mtime":1545675554786},{"name":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/.babelrc","includedInParent":true,"mtime":1545599562417},{"name":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/package.json","includedInParent":true,"mtime":1544898207441},{"name":"rxjs/BehaviorSubject","loc":{"line":3,"column":32},"parent":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Platform.js","resolved":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/rxjs/BehaviorSubject.js"},{"name":"rxjs/add/operator/switchMap","loc":{"line":4,"column":8},"parent":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Platform.js","resolved":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/rxjs/add/operator/switchMap.js"},{"name":"rxjs/add/operator/mergeAll","loc":{"line":5,"column":8},"parent":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Platform.js","resolved":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/rxjs/add/operator/mergeAll.js"},{"name":"rxjs/add/operator/distinctUntilChanged","loc":{"line":6,"column":8},"parent":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Platform.js","resolved":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/rxjs/add/operator/distinctUntilChanged.js"},{"name":"rxjs/add/operator/share","loc":{"line":7,"column":8},"parent":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Platform.js","resolved":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/rxjs/add/operator/share.js"},{"name":"rxjs/add/operator/startWith","loc":{"line":8,"column":8},"parent":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Platform.js","resolved":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/rxjs/add/operator/startWith.js"},{"name":"./Sub","loc":{"line":9,"column":20},"parent":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Platform.js","resolved":"/Users/stevenmaccoun/projects/servant-ts/example/frontend/node_modules/elm-ts/lib/Sub.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BehaviorSubject_1 = require(\"rxjs/BehaviorSubject\");\nrequire(\"rxjs/add/operator/switchMap\");\nrequire(\"rxjs/add/operator/mergeAll\");\nrequire(\"rxjs/add/operator/distinctUntilChanged\");\nrequire(\"rxjs/add/operator/share\");\nrequire(\"rxjs/add/operator/startWith\");\nvar Sub_1 = require(\"./Sub\");\nfunction modelCompare(x, y) {\n    return x === y || x[0] === y[0];\n}\nfunction cmdCompare(x, y) {\n    return x === y || x[1] === y[1];\n}\nfunction program(init, update, subscriptions) {\n    if (subscriptions === void 0) { subscriptions = function () { return Sub_1.none; }; }\n    var state$ = new BehaviorSubject_1.BehaviorSubject(init);\n    var dispatch = function (msg) { return state$.next(update(msg, state$.value[0])); };\n    var cmd$ = state$\n        .distinctUntilChanged(cmdCompare)\n        .map(function (state) { return state[1]; })\n        .mergeAll();\n    var model$ = state$\n        .distinctUntilChanged(modelCompare)\n        .map(function (state) { return state[0]; })\n        .share();\n    var sub$ = model$.startWith(init[0]).switchMap(function (model) { return subscriptions(model); });\n    return { dispatch: dispatch, cmd$: cmd$, sub$: sub$, model$: model$ };\n}\nexports.program = program;\nfunction programWithFlags(init, update, subscriptions) {\n    if (subscriptions === void 0) { subscriptions = function () { return Sub_1.none; }; }\n    return function (flags) { return program(init(flags), update, subscriptions); };\n}\nexports.programWithFlags = programWithFlags;\nfunction run(program) {\n    var dispatch = program.dispatch, cmd$ = program.cmd$, sub$ = program.sub$, model$ = program.model$;\n    cmd$.subscribe(function (task) { return task.run().then(function (o) { return o.map(dispatch); }); });\n    sub$.subscribe(dispatch);\n    return model$;\n}\nexports.run = run;\n","map":{"version":3,"file":"Platform.js","sourceRoot":"","sources":["../src/Platform.ts"],"names":[],"mappings":";;AACA,wDAAsD;AACtD,uCAAoC;AACpC,sCAAmC;AACnC,kDAA+C;AAC/C,mCAAgC;AAChC,uCAAoC;AAEpC,6BAAiC;AAajC,sBAA4B,CAAS,EAAE,CAAS;IAC9C,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;AACjC,CAAC;AAED,oBAA0B,CAAS,EAAE,CAAS;IAC5C,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA;AACjC,CAAC;AAED,iBACE,IAAuB,EACvB,MAAqD,EACrD,aAAsD;IAAtD,8BAAA,EAAA,8BAAkD,OAAA,UAAI,EAAJ,CAAI;IAEtD,IAAM,MAAM,GAAG,IAAI,iCAAe,CAAC,IAAI,CAAC,CAAA;IACxC,IAAM,QAAQ,GAAkB,UAAA,GAAG,IAAI,OAAA,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAzC,CAAyC,CAAA;IAChF,IAAM,IAAI,GAAG,MAAM;SAChB,oBAAoB,CAAC,UAAU,CAAC;SAChC,GAAG,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,CAAC,CAAC,EAAR,CAAQ,CAAC;SACtB,QAAQ,EAAE,CAAA;IACb,IAAM,MAAM,GAAG,MAAM;SAClB,oBAAoB,CAAC,YAAY,CAAC;SAClC,GAAG,CAAC,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,CAAC,CAAC,EAAR,CAAQ,CAAC;SACtB,KAAK,EAAE,CAAA;IACV,IAAM,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAA,KAAK,IAAI,OAAA,aAAa,CAAC,KAAK,CAAC,EAApB,CAAoB,CAAC,CAAA;IAC/E,OAAO,EAAE,QAAQ,UAAA,EAAE,IAAI,MAAA,EAAE,IAAI,MAAA,EAAE,MAAM,QAAA,EAAE,CAAA;AACzC,CAAC;AAjBD,0BAiBC;AAED,0BACE,IAAyC,EACzC,MAAqD,EACrD,aAAsD;IAAtD,8BAAA,EAAA,8BAAkD,OAAA,UAAI,EAAJ,CAAI;IAEtD,OAAO,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,aAAa,CAAC,EAA3C,CAA2C,CAAA;AAC7D,CAAC;AAND,4CAMC;AAED,aAAgC,OAA4B;IAClD,IAAA,2BAAQ,EAAE,mBAAI,EAAE,mBAAI,EAAE,uBAAM,CAAY;IAChD,IAAI,CAAC,SAAS,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAf,CAAe,CAAC,EAArC,CAAqC,CAAC,CAAA;IAC7D,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAA;IACxB,OAAO,MAAM,CAAA;AACf,CAAC;AALD,kBAKC","sourcesContent":[null]}},"hash":"e0b4b2f162b5fe7343c01be091c13bef","cacheData":{"env":{}}}